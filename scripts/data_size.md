# データサイズ

現状ではTsurguiにテーブル単位のデータサイズを取得する機能がない。
データサイズを示す指標として、PostgreSQLに同等のテーブルを作成し、
同内容のデータを投入したときのテーブルサイズを用いる。

## CBのデータサイズ

* 電話料金計算バッチは初期データをhistory, contractsの2テーブルに書き込む。
* 電話料金計算バッチではCB用にtiny, small ,medium, largeの4サイズの設定を用意している。
* それぞれの設定について、初期データの行数とサイズをを下表に示す。

| 設定   | historyの行数 | historyのサイズ(KB) | contractsの行数 | contractsのサイズ(KB) | 合計サイズ(KB) |
|--------|--------------:|--------------------:|----------------:|----------------------:|---------------:|
| tiny   | 30,000        | 6,880               | 1,000           | 128                   | 7,008          |
| small  | 300,000       | 66,560              | 1,000           | 128                   | 66,688         |
| medium | 3,000,000     | 652,288             | 1,000           | 128                   | 652,416        |
| large  | 30,000,000    | 6,520,832           | 10,000          | 904                   | 6,521,736      |

* CBの実行結果の報告時に処理対象データのデータサイズの概数を把握できるように設定を以下のように呼ぶことを推奨する
  * tiny -> tiny(7M)
  * small -> small(70M)
  * medium -> medium(700M)
  * large -> large(7G)
